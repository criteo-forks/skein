<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <link rel="stylesheet" href="webjars/bootstrap/4.1.1/css/bootstrap.min.css">
    <style>
        #service-containers thead th,
        #kv thead th { border-width: 0; }
    </style>

    <title>Skein</title>
</head>

<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
    <a class="navbar-brand" href="#">Skein</a>
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav nav nav-pills" id="service-tabs">
            {{#services}}
            <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#{{getKey}}">{{getKey}}</a>
            {{/services}}
        </ul>
    </div>
    <span class="navbar-text" id="application">{{appId}}</span>
</nav>

<main role="main" class="container-fluid">
    <div class="row">
        <div class="col-sm tab-content" id="service-containers">
            {{#services}}
            <div class="tab-pane" id="{{getKey}}">
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Container ID</th>
                        <th scope="col">State</th>
                        <th scope="col">Log</th>
                    </tr>
                    </thead>
                    <tbody>
                    {{#getValue}}
                    <tr>
                        <th scope="row">{{getId}}</th>
                        <td>{{getYarnContainerId}}</td>
                        <td>{{getState}}</td>
                        <td><a href="//{{getYarnContainerLogs}}/{{getKey}}.log?start=0">{{getKey}}.log</a></td>
                    </tr>
                    {{/getValue}}
                    </tbody>
                </table>
            </div>
            {{/services}}
        </div>
        <div class="col-sm" id="kv">
            <table class="table">
                <thead>
                <tr><th scope="col">Key</th><th scope="col">Value</th></tr>
                </thead>
                <tbody>
                {{#kv}}
                <tr><th scope="row">{{getKey}}</th><td>{{getValue}}</td></tr>
                {{/kv}}
                </tbody>
            </table>
        </div>
    </div>
</main>

<script src="webjars/jquery/3.0.0/jquery.min.js"></script>
<script src="webjars/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script>
    $("#service-tabs li:first-child a").tab("show");
</script>
</body>
</html>
